
[[_paths]]
== Paths

[[_getserviceinfo]]
=== Show information about this service. It is assumed that removing this endpoint from a URL will result in a valid URL to query against
....
GET /service-info
....


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|A successful operation to request the service information about this running service.|No Content
|===


==== Tags

* service-info


[[_toolclassesget]]
=== List all tool types
....
GET /toolClasses
....


==== Description
This endpoint returns all tool-classes available.


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|A list of potential tool classes.|< <<_toolclass,ToolClass>> > array
|===


==== Tags

* GA4GH


==== Security

[options="header", cols=".^3a,.^4a"]
|===
|Type|Name
|**apiKey**|**<<_bearer,BEARER>>**
|===


[[_toolsget]]
=== List all tools
....
GET /tools
....


==== Description
This endpoint returns all tools available or a filtered subset using metadata query parameters.


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a,.^2a"]
|===
|Type|Name|Description|Schema|Default
|**Query**|**alias** +
__optional__|Support for this parameter is optional for tool registries that support aliases.
If provided will only return entries with the given alias.|string|
|**Query**|**author** +
__optional__|The author of the tool (TODO a thought occurs, are we assuming that the author of the CWL and the image are the same?).|string|
|**Query**|**checker** +
__optional__|Return only checker workflows.|boolean|
|**Query**|**description** +
__optional__|The description of the tool.|string|
|**Query**|**id** +
__optional__|A unique identifier of the tool, scoped to this registry, for example `123456`.|string|
|**Query**|**limit** +
__optional__|Amount of records to return in a given page.|integer (int32)|`1000`
|**Query**|**name** +
__optional__|The name of the image.|string|
|**Query**|**offset** +
__optional__|Start index of paging. Pagination results can be based on numbers or other values chosen by the registry implementor (for example, SHA values). If this exceeds the current result set return an empty set. If not specified in the request, this will start at the beginning of the results.|string|
|**Query**|**organization** +
__optional__|The organization in the registry that published the image.|string|
|**Query**|**registry** +
__optional__|The image registry that contains the image.|string|
|**Query**|**toolClass** +
__optional__|Filter tools by the name of the subclass (#/definitions/ToolClass)|string|
|**Query**|**toolname** +
__optional__|The name of the tool.|string|
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|An array of Tools that match the filter. +
**Headers** :  +
`next_page` (string) : A URL that can be used to reach the next page based on the current offset and page record limit. +
`last_page` (string) : A URL that can be used to reach the last page based on the current page record limit. +
`self_link` (string) : A URL that can be used to return to the current page later. +
`current_offset` (string) : The current start index of the paging used for this result. +
`current_limit` (integer) : The current page record limit used for this result.|< <<_tool,Tool>> > array
|===


==== Tags

* GA4GH


==== Security

[options="header", cols=".^3a,.^4a"]
|===
|Type|Name
|**apiKey**|**<<_bearer,BEARER>>**
|===


[[_toolsidget]]
=== List one specific tool, acts as an anchor for self references
....
GET /tools/{id}
....


==== Description
This endpoint returns one specific tool (which has ToolVersions nested inside it).


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|**Path**|**id** +
__required__|A unique identifier of the tool, scoped to this registry, for example `123456`.|string
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|A tool.|<<_tool,Tool>>
|**404**|The tool can not be found.|<<_error,Error>>
|===


==== Tags

* GA4GH


==== Security

[options="header", cols=".^3a,.^4a"]
|===
|Type|Name
|**apiKey**|**<<_bearer,BEARER>>**
|===


[[_toolsidversionsget]]
=== List versions of a tool
....
GET /tools/{id}/versions
....


==== Description
Returns all versions of the specified tool.


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|**Path**|**id** +
__required__|A unique identifier of the tool, scoped to this registry, for example `123456`.|string
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|An array of tool versions.|< <<_toolversion,ToolVersion>> > array
|===


==== Tags

* GA4GH


==== Security

[options="header", cols=".^3a,.^4a"]
|===
|Type|Name
|**apiKey**|**<<_bearer,BEARER>>**
|===


[[_toolsidversionsversionidget]]
=== List one specific tool version, acts as an anchor for self references
....
GET /tools/{id}/versions/{version_id}
....


==== Description
This endpoint returns one specific tool version.


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|**Path**|**id** +
__required__|A unique identifier of the tool, scoped to this registry, for example `123456`.|string
|**Path**|**version_id** +
__required__|An identifier of the tool version, scoped to this registry, for example `v1`. We recommend that versions use semantic versioning https://semver.org/spec/v2.0.0.html (For example, `1.0.0` instead of `develop`)|string
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|A tool version.|<<_toolversion,ToolVersion>>
|**404**|The tool can not be found.|<<_error,Error>>
|===


==== Tags

* GA4GH


==== Security

[options="header", cols=".^3a,.^4a"]
|===
|Type|Name
|**apiKey**|**<<_bearer,BEARER>>**
|===


[[_toolsidversionsversionidcontainerfileget]]
=== Get the container specification(s) for the specified image.
....
GET /tools/{id}/versions/{version_id}/containerfile
....


==== Description
Returns the container specifications(s) for the specified image. For example, a CWL CommandlineTool can be associated with one specification for a container, a CWL Workflow can be associated with multiple specifications for containers.


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|**Path**|**id** +
__required__|A unique identifier of the tool, scoped to this registry, for example `123456`.|string
|**Path**|**version_id** +
__required__|An identifier of the tool version for this particular tool registry, for example `v1`.|string
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|The tool payload.|< <<_filewrapper,FileWrapper>> > array
|**404**|There are no container specifications for this tool.|<<_error,Error>>
|===


==== Tags

* GA4GH


==== Security

[options="header", cols=".^3a,.^4a"]
|===
|Type|Name
|**apiKey**|**<<_bearer,BEARER>>**
|===


[[_toolsidversionsversionidtypedescriptorget]]
=== Get the tool descriptor for the specified tool
....
GET /tools/{id}/versions/{version_id}/{type}/descriptor
....


==== Description
Returns the descriptor for the specified tool (examples include CWL, WDL, Nextflow, or Galaxy documents).


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|**Path**|**id** +
__required__|A unique identifier of the tool, scoped to this registry, for example `123456`.|string
|**Path**|**type** +
__required__|The output type of the descriptor. Plain types return the bare descriptor while the "non-plain" types return a descriptor wrapped with metadata. Allowable values include "CWL", "WDL", "NFL", "GALAXY", "PLAIN_CWL", "PLAIN_WDL", "PLAIN_NFL", "PLAIN_GALAXY".|string
|**Path**|**version_id** +
__required__|An identifier of the tool version, scoped to this registry, for example `v1`.|string
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|The tool descriptor.|<<_filewrapper,FileWrapper>>
|**404**|The tool descriptor can not be found.|<<_error,Error>>
|===


==== Tags

* GA4GH


==== Security

[options="header", cols=".^3a,.^4a"]
|===
|Type|Name
|**apiKey**|**<<_bearer,BEARER>>**
|===


[[_toolsidversionsversionidtypedescriptorrelativepathget]]
=== Get additional tool descriptor files relative to the main file
....
GET /tools/{id}/versions/{version_id}/{type}/descriptor/{relative_path}
....


==== Description
Descriptors can often include imports that refer to additional descriptors. This returns additional descriptors for the specified tool in the same or other directories that can be reached as a relative path. This endpoint can be useful for workflow engine implementations like cwltool to programmatically download all the descriptors for a tool and run it. This can optionally include other files described with FileWrappers such as test parameters and containerfiles.


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|**Path**|**id** +
__required__|A unique identifier of the tool, scoped to this registry, for example `123456`.|string
|**Path**|**relative_path** +
__required__|A relative path to the additional file (same directory or subdirectories), for example 'foo.cwl' would return a 'foo.cwl' from the same directory as the main descriptor. 'nestedDirectory/foo.cwl' would return the file from a nested subdirectory. Unencoded paths such 'sampleDirectory/foo.cwl' should also be allowed.|string
|**Path**|**type** +
__required__|The output type of the descriptor. If not specified, it is up to the underlying implementation to determine which output type to return. Plain types return the bare descriptor while the "non-plain" types return a descriptor wrapped with metadata. Allowable values are "CWL", "WDL", "NFL", "GALAXY", "PLAIN_CWL", "PLAIN_WDL", "PLAIN_NFL", "PLAIN_GALAXY".|string
|**Path**|**version_id** +
__required__|An identifier of the tool version for this particular tool registry, for example `v1`.|string
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|The tool descriptor.|<<_filewrapper,FileWrapper>>
|**404**|The tool can not be output in the specified type.|<<_error,Error>>
|===


==== Tags

* GA4GH


==== Security

[options="header", cols=".^3a,.^4a"]
|===
|Type|Name
|**apiKey**|**<<_bearer,BEARER>>**
|===


[[_toolsidversionsversionidtypefilesget]]
=== Get a list of objects that contain the relative path and file type
....
GET /tools/{id}/versions/{version_id}/{type}/files
....


==== Description
Get a list of objects that contain the relative path and file type. The descriptors are intended for use with the /tools/{id}/versions/{version_id}/{type}/descriptor/{relative_path} endpoint. Returns a zip file of all files when format=zip is specified.


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|**Path**|**id** +
__required__|A unique identifier of the tool, scoped to this registry, for example `123456`.|string
|**Path**|**type** +
__required__|The output type of the descriptor. Examples of allowable values are "CWL", "WDL", "NFL", "GALAXY".|string
|**Path**|**version_id** +
__required__|An identifier of the tool version for this particular tool registry, for example `v1`.|string
|**Query**|**format** +
__optional__|Returns a zip file of all files when format=zip is specified.|enum (zip)
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|The array of File JSON responses.|< <<_toolfile,ToolFile>> > array
|**404**|The tool can not be output in the specified type.|<<_error,Error>>
|===


==== Produces

* `application/json`
* `application/zip`


==== Tags

* GA4GH


==== Security

[options="header", cols=".^3a,.^4a"]
|===
|Type|Name
|**apiKey**|**<<_bearer,BEARER>>**
|===


[[_toolsidversionsversionidtypetestsget]]
=== Get a list of test JSONs
....
GET /tools/{id}/versions/{version_id}/{type}/tests
....


==== Description
Get a list of test JSONs (these allow you to execute the tool successfully) suitable for use with this descriptor type.


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|**Path**|**id** +
__required__|A unique identifier of the tool, scoped to this registry, for example `123456`.|string
|**Path**|**type** +
__required__|The type of the underlying descriptor. Allowable values include "CWL", "WDL", "NFL", "GALAXY", "PLAIN_CWL", "PLAIN_WDL", "PLAIN_NFL", "PLAIN_GALAXY". For example, "CWL" would return an list of ToolTests objects while "PLAIN_CWL" would return a bare JSON list with the content of the tests.|string
|**Path**|**version_id** +
__required__|An identifier of the tool version for this particular tool registry, for example `v1`.|string
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|The tool test JSON response.|< <<_filewrapper,FileWrapper>> > array
|**404**|The tool can not be output in the specified type.|<<_error,Error>>
|===


==== Tags

* GA4GH


==== Security

[options="header", cols=".^3a,.^4a"]
|===
|Type|Name
|**apiKey**|**<<_bearer,BEARER>>**
|===



